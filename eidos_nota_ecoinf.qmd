---
title: "eidosapi, un paquete para estandarizar nomenclatura de especies en España"
  
author: Héctor Miranda-Cebrián*^1^
  
format:
  docx:
    fig-height: 6
    fig-width: 7.5
    reference-doc: Ecosistemas_template.docx
    
csl: ecosistemas.csl

bibliography: 
  - references.bib
  - knitcitations.bib
---

> (1) Instituto Pirenaico de Ecología - CSIC

> Autor de correspondencia\*: Héctor Miranda-Cebrián \[[hectorm94\@gmail.com](mailto:hectorm94@gmail.com){.email}\]

# Palabras clave

> Taxonomía; Estandarización; Nomenclatura; Lista Patrón

# Keywords

> Taxonomy; Standardization; Nomenclature; Checklist

```{r knitcitations}
#| echo: false
#| cache: false
#| warning: false
library(quarto)
library(knitcitations)
cleanbib()   
cite_options(citation_format = "pandoc")
```

El trabajo en ecología y cualquiera de sus disciplinas implica necesariamente el manejo de la taxonomía, puesto que diferenciar correctamente especies nos permite compartimentar y estructurar la información que manejamos sobre ellas. Sin embargo, la sistemática y la taxonomía avanzan y evolucionan, y con ella los nombres de las especies con las que trabajamos. Esto hace necesario que en ocasiones tengamos que navegar, a veces a la deriva, en un mar de sinónimos y equivalencias, o lidiar con nombres mal escritos después de horas de trabajo de campo. Para solventar este problema se han ido desarrollando diferente herramientas que permitan cotejar la nomenclatura de una especie contra una base de datos o *backbone* taxonómico. A nivel internacional, entre estas herramientas encontramos algunas de carácter generalista como *Global Names Resolver*, que emplea datos de *Global Biodiversity Information Facility* (GBIF)  y *Encyclopedia of Life*; y otras especializadas en grupos concretos de organismos como son el *World Register of Marine Species*, *International Plant Names Index* o *World Flora Online* por citar algunas. Por otro lado, en España contamos con el acceso a Flora Ibérica y Fauna Ibérica, dos excelentes recursos que permiten, entre otras cosas, consultar sinónimos y nombres a través de sus respectivas páginas web.

Entre todas las herramientas anteriores, encontramos una gran diversidad tando de formas de consulta como de limitaciones. Las herramientas generalistas como *Global Names Resolver*, cuentan con extensas bases de datos que pueden consultarse tanto de forma interactiva en sus webs como a través de interfaces de programación de aplicaciones (API) desde entornos como R `r citep(citation())`. Un gran ejemplo de esto último es el paquete *taxize* `r citep(citation("taxize"))`, con acceso a cerca de 20 bases de datos diferentes. Estos servicios, sin embargo, a veces están limitados en el número de especies que incluyen, algo que se hace especialmente patente si trabajamos con taxa raros o de distribución muy limitada. Los servicios especializados en un solo grupo taxonómico suelen ser una mejor opción en estos casos y la mayoría de ellos también cuentan con APIs especializadas, como pueden ser los paquetes *WorldFlora* `r citep(citation("WorldFlora"))` para acceder a World Flora Online o *LCVP* `r citep(citation("lcvplants"))` para acceder al Catalogo de Plantas Vasculares de Leipzig (*Leipzig Catalogue of Vascular Plants*). La principal desventaja de estos servicios radica en que, a pesar de la gran cantidad de información que contienen, puede darse un desajuste entre su nomenclatura y la establecida a nivel nacional o regional. Esta limitación se hace más patente si, por ejemplo, queremos recopilar información sobre el estado de conservación de una especie presente en España, puesto que el nombre aceptado por una base de datos internacional puede no casar con el empleado a nivel nacional o regional. Por otro lado, el carácter limitado a un solo grupo de estas bases de datos limita también su utilidad cuando tenemos que trabajar con varios grupos taxonómicos a la vez, como podría ser a la hora de realizar una revisión sistemática del estado de conservación de múltiples especies. Finalmente, los principales recursos taxonómicos disponibles a nivel nacional, Flora Ibérica y Fauna Ibérica, presentan las limitaciones propias de las bases de datos especializadas en un solo grupo mencionadas anteriormente, además de carecer de una interfaz de usuario que permita la consulta de un gran número de especies, acceder a ellas de forma automática o hacerlo desde entornos de trabajo que permitan integrar los resultados en un flujo de trabajo más complejo.

# Recursos taxonómicos *online* en España

Un primer paso para solventar estas limitaciones a la hora de acceder a la información taxonómica de las especies en España ha sido la creación del [Inventario Español del Patrimonio Natural y de la Biodiversidad (IEPNB)](https://iepnb.gob.es/) por parte del Ministerio para la Transición Ecológica y el Reto Demográfico. Este trabajo, todavía en proceso, recoge información de más de 63000 especies, incluyendo su información taxonómica, sinonimia, categorías de amenaza o normas legales que rigen si conservación, información que puede ser consultada desde internet. Este catálogo se nutre principalmente de La Lista Patrón de Especies Silvestres presentes en España (LP), que recoge información proveniente de multitud de sociedades científicas de ámbito nacional y especializadas en diversos grupos taxonómicos, como por ejemplo el Museo Nacional de Ciencias Naturales, el Real Jardín Botánico, la Asociación Herpetológica Española (AHE), la Sociedad Española de Ornitología (SEO-BirdLife), la Sociedad Española de Briología (SEB), la Sociedad Española de Biología de la Conservación de Plantas (SEBICOP), la Sociedad Española para la Conservación y el Estudio de Mamíferos (SECEM), la Sociedad Española de Malacología (SEM), la Asociación Española para la Conservación y el Estudio de los Murciélagos (SECEMU) o la Sociedad Ibérica de Ictiología (SIBIC).

En primera instancia, el acceso a la web del IEPNB sigue presentando algunas de las mismas limitaciones que otros recursos mencionados con anterioridad, principalmente la imposibilidad de realizar consultas de forma no manual. Sin embargo, esta herramienta pone a nuestra disposición la API EIDOS, que nos permiten interactuar con las base de datos del IEPNB de forma más estructurada que la simple búsqueda de un nombre o filtrar información en la web. La utilidad de esta herramienta radica, no obstante, en que abre la puerta a poder acceder a las bases de datos del IEPNB desde entornos de programación como R, y por tanto es posible automatizar los procesos de consulta.

# El paquete *eidosapi* para R

Con el objetivo de explotar las posibilidades ofrecidas por la API EIDOS y facilitar la tarea de cotejar y contrastar la taxonomía de varias de especies, se desarrolló el paquete *eidosapi* para R, disponible en GitHub (https://github.com/hmirceb/eidosapi). El paquete cuenta con varias funciones que facilitan el acceso a las bases de datos del IEPNB, haciendo uso de del paquete *jsonlite* `r citep(citation("jsonlite"))` para interpretar los archivos en formato JSON que devuelve EIDOS al realizar consultas, así como del paquete *fuzzyjoin* `r citep(citation("fuzzyjoin"))` para realizar consultas basadas en lógica difusa que permitan buscar nombres aunque contengan algún error de escritura. El uso específico de cada una de las funciones del paquete así como una explicación de cómo emplearlas está disponible en el material suplementario que acompaña a esta nota y en el propio repositorio del paquete. De forma general, el paquete permite acceder a la información del IEPNB para una o varias especies a la vez, comprobar la validez del nombre aportado u obtener el nombre aceptado para ese taxón. Además, el paquete permite acceder el identificador único de cada taxón, que a su vez sirve para recuperar la información relativa al estado de conservación del mismo en función de los diferentes catálogo nacionales y autonómicos. Otra funcionalidad importante del paquete es cotejar nombres que puedan estar mal escritos y obtener posibles correspondencias en el IEPNB de formas flexible según unos parámetros que podemos establecer desde la propia función.

# Conclusiones

Contar con una nomenclatura taxonómica homogénea y estandarizada es de gran utilidad en cualquier trabajo en ecología. El paquete *eidosapi* permite acceder de forma sencilla a las bases de datos taxonómicas del Inventario del Patrimonio Natural y de la Biodiversidad, facilitando la tarea de estandarizar la nomenclatura de multitud de organismos, obtener información detallada sobre sobre su estado de conservación y permitiéndonos incorporar esta información en nuestros flujos de trabajo.

# Contribución de los autores

Texto.

# Agradecimientos

Esta nota se ha revisado siguiendo un proceso colaborativo y público disponible en (link al issue correspondiente).

# Referencias

```{r write_citations}
#| cache: false
#| include: false
write.bibtex(file = "knitcitations.bib")
```

::: {#refs}
:::
